{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\Sony\\\\LEEMAS\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\Sony\\\\LEEMAS\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Sony\\\\LEEMAS\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Sony\\\\LEEMAS\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Sony\\\\LEEMAS\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Sony\\\\LEEMAS\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\Sony\\\\LEEMAS\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\Sony\\\\LEEMAS\\\\frontend\\\\src\\\\Componentes\\\\CrearProducto.js\";\nimport React, { Component } from 'react';\nimport { Col } from 'reactstrap';\n\nvar CrearProducto = /*#__PURE__*/function (_Component) {\n  _inherits(CrearProducto, _Component);\n\n  function CrearProducto() {\n    var _this;\n\n    _classCallCheck(this, CrearProducto);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CrearProducto).call(this));\n    _this.state = {\n      titulo: '',\n      imagen: '',\n      descripcion: '',\n      precio: '',\n      stock: '',\n      productos: []\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.agregarProducto = _this.agregarProducto.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(CrearProducto, [{\n    key: \"handleChange\",\n    value: function handleChange(e) {\n      var _e$target = e.target,\n          name = _e$target.name,\n          value = _e$target.value;\n      this.setState(_defineProperty({}, name, value));\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.fetchProductos();\n    }\n  }, {\n    key: \"fetchProductos\",\n    value: function fetchProductos() {\n      var _this2 = this;\n\n      fetch('http://localhost:4000/api/articulos').then(function (res) {\n        return res.json();\n      }).then(function (data) {\n        _this2.setState({\n          productos: data\n        });\n\n        console.log(_this2.state.productos);\n      });\n    }\n  }, {\n    key: \"deleteProducto\",\n    value: function deleteProducto(id) {\n      var _this3 = this;\n\n      fetch(\"http://localhost:4000/api/articulos/\".concat(id), {\n        method: \"DELETE\",\n        headers: {\n          \"Accept\": \"application/json\",\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(function (res) {\n        return res.json();\n      }).then(function (data) {\n        console.log(data);\n        alert(\"Producto eliminado\");\n\n        _this3.fetchProductos();\n      });\n    }\n  }, {\n    key: \"agregarProducto\",\n    value: function agregarProducto(e) {\n      e.preventDefault();\n      fetch(\"http://localhost:4000/api/articulos\", {\n        method: \"POST\",\n        body: JSON.stringify(this.state),\n        headers: {\n          \"Accept\": \"application/json\",\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(function (res) {\n        return res.json();\n      }).then(function (data) {\n        console.log(data);\n        alert(\"Producto creado\");\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      return /*#__PURE__*/React.createElement(Container, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        sm: \"3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"h4\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 17\n        }\n      }, \"Nuevo Libro\"), /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: this.agregarProducto,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        name: \"titulo\",\n        className: \"form-control\",\n        type: \"text\",\n        placeholder: \"Ingrese T\\xEDtulo\",\n        onChange: this.handleChange,\n        value: this.state.titulo,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 25\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        name: \"imagen\",\n        className: \"form-control\",\n        type: \"text\",\n        placeholder: \"Ingrese link de imagen\",\n        onChange: this.handleChange,\n        value: this.state.imagen,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 25\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        name: \"descripcion\",\n        className: \"form-control\",\n        type: \"text\",\n        placeholder: \"Ingrese autor\",\n        onChange: this.handleChange,\n        value: this.state.descripcion,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 25\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        name: \"precio\",\n        className: \"form-control\",\n        type: \"text\",\n        placeholder: \"Ingrese precio\",\n        onChange: this.handleChange,\n        value: this.state.precio,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 25\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        name: \"stock\",\n        className: \"form-control\",\n        type: \"number\",\n        placeholder: \"Ingrese cantidad\",\n        onChange: this.handleChange,\n        value: this.state.stock,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 25\n        }\n      })), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 21\n        }\n      }, \"Guardar\"))), /*#__PURE__*/React.createElement(Col, {\n        sm: \"10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"h4\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 17\n        }\n      }, \"Lista de productos\"), /*#__PURE__*/React.createElement(\"table\", {\n        className: \"table\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"thead\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 29\n        }\n      }, \"Titulo\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 29\n        }\n      }, \"Imagen\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 29\n        }\n      }, \"Descripcion\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 29\n        }\n      }, \"Precio\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 29\n        }\n      }, \"Stock\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 21\n        }\n      }, this.state.productos.map(function (producto) {\n        return /*#__PURE__*/React.createElement(\"tr\", {\n          key: producto._id,\n          __self: _this4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 37\n          }\n        }, /*#__PURE__*/React.createElement(\"td\", {\n          __self: _this4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 41\n          }\n        }, producto.titulo), /*#__PURE__*/React.createElement(\"td\", {\n          __self: _this4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 41\n          }\n        }, producto.imagen), /*#__PURE__*/React.createElement(\"td\", {\n          __self: _this4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 41\n          }\n        }, producto.descripcion), /*#__PURE__*/React.createElement(\"td\", {\n          __self: _this4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 41\n          }\n        }, producto.precio), /*#__PURE__*/React.createElement(\"td\", {\n          __self: _this4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 41\n          }\n        }, producto.stock), /*#__PURE__*/React.createElement(\"button\", {\n          onClick: function onClick() {\n            return _this4.editProducto(producto._id);\n          },\n          type: \"button\",\n          className: \"btn btn-info\",\n          __self: _this4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 41\n          }\n        }, \"Editar\"), /*#__PURE__*/React.createElement(\"button\", {\n          onClick: function onClick() {\n            return _this4.deleteProducto(producto._id);\n          },\n          type: \"button\",\n          className: \"btn btn-danger\",\n          __self: _this4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 41\n          }\n        }, \"Borrar\"));\n      })))));\n    }\n  }]);\n\n  return CrearProducto;\n}(Component);\n\nexport { CrearProducto as default };","map":{"version":3,"sources":["C:/Users/Sony/LEEMAS/frontend/src/Componentes/CrearProducto.js"],"names":["React","Component","Col","CrearProducto","state","titulo","imagen","descripcion","precio","stock","productos","handleChange","bind","agregarProducto","e","target","name","value","setState","fetchProductos","fetch","then","res","json","data","console","log","id","method","headers","alert","preventDefault","body","JSON","stringify","map","producto","_id","editProducto","deleteProducto"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport {Col} from 'reactstrap'\r\nexport default class CrearProducto extends Component {\r\n    constructor(){\r\n        super()\r\n        this.state ={\r\n            titulo: '',\r\n            imagen: '',            \r\n            descripcion: '',\r\n            precio:'',\r\n            stock:'',\r\n            productos:[]\r\n        }\r\n        this.handleChange=this.handleChange.bind(this)\r\n        this.agregarProducto=this.agregarProducto.bind(this)\r\n    }\r\n    handleChange(e){\r\n        const {name, value} = e.target;\r\n        this.setState({\r\n            [name]: value\r\n        })\r\n    }\r\n    componentDidMount(){\r\n        this.fetchProductos();\r\n      }\r\n      fetchProductos(){\r\n        fetch('http://localhost:4000/api/articulos')\r\n        .then(res=> res.json())\r\n        .then(data =>{\r\n          this.setState({productos:data})\r\n          console.log(this.state.productos)\r\n        })\r\n      }\r\n      deleteProducto(id){\r\n          fetch(`http://localhost:4000/api/articulos/${id}`,{\r\n              method:\"DELETE\",\r\n              headers: {\r\n                  \"Accept\": \"application/json\",\r\n                  \"Content-Type\": \"application/json\"\r\n              }\r\n          })\r\n          .then(res => res.json())\r\n          .then(data =>{\r\n              console.log(data);\r\n              alert(\"Producto eliminado\");\r\n              this.fetchProductos();\r\n          })\r\n      }\r\n    agregarProducto(e){\r\n        e.preventDefault();\r\n        fetch(\"http://localhost:4000/api/articulos\",{\r\n            method: \"POST\",\r\n            body: JSON.stringify(this.state),\r\n            headers:{\r\n                \"Accept\": \"application/json\",\r\n                \"Content-Type\": \"application/json\"\r\n            }\r\n        })\r\n        .then(res => res.json())\r\n        .then(data=>{\r\n            console.log(data);\r\n            alert(\"Producto creado\");\r\n        })\r\n\r\n    }\r\n    render() {\r\n        return (\r\n        <Container>\r\n            <Col sm=\"3\">\r\n                <h4>Nuevo Libro</h4>\r\n                <form onSubmit={this.agregarProducto}>\r\n                    <div className=\"mb-3\">\r\n                        <input\r\n                         name=\"titulo\"\r\n                         className=\"form-control\" \r\n                         type=\"text\" \r\n                         placeholder=\"Ingrese Título\" \r\n                         onChange={this.handleChange} \r\n                         value={this.state.titulo} \r\n                        />\r\n            \r\n                    </div>\r\n                    <div className=\"mb-3\">\r\n                        <input \r\n                        name=\"imagen\" \r\n                        className=\"form-control\" \r\n                        type=\"text\" \r\n                        placeholder=\"Ingrese link de imagen\" \r\n                        onChange={this.handleChange} \r\n                        value={this.state.imagen} \r\n                        />\r\n                    </div>\r\n                    <div className=\"mb-3\">\r\n                        <input \r\n                        name=\"descripcion\" \r\n                        className=\"form-control\" \r\n                        type=\"text\" \r\n                        placeholder=\"Ingrese autor\" \r\n                        onChange={this.handleChange} \r\n                        value={this.state.descripcion} \r\n                        />\r\n                    </div>\r\n                    <div className=\"mb-3\">\r\n                        <input \r\n                        name=\"precio\" \r\n                        className=\"form-control\" \r\n                        type=\"text\" \r\n                        placeholder=\"Ingrese precio\" \r\n                        onChange={this.handleChange} \r\n                        value={this.state.precio} \r\n                        />\r\n                    </div>\r\n                    <div className=\"mb-3\">\r\n                        <input \r\n                        name=\"stock\" \r\n                        className=\"form-control\" \r\n                        type=\"number\" \r\n                        placeholder=\"Ingrese cantidad\" \r\n                        onChange={this.handleChange} \r\n                        value={this.state.stock} \r\n                        />\r\n                    </div>\r\n                    <button type=\"submit\" className=\"btn btn-primary\">Guardar</button>\r\n                </form>\r\n            </Col>\r\n            <Col sm = \"10\">\r\n                <h4>Lista de productos</h4>\r\n                <table className=\"table\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Titulo</th>\r\n                            <th>Imagen</th>\r\n                            <th>Descripcion</th>\r\n                            <th>Precio</th>\r\n                            <th>Stock</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                            {this.state.productos.map((producto) => {\r\n                                return (\r\n                                    <tr key={producto._id}>\r\n                                        <td>{producto.titulo}</td>\r\n                                        <td>{producto.imagen}</td>\r\n                                        <td>{producto.descripcion}</td>\r\n                                        <td>{producto.precio}</td>\r\n                                        <td>{producto.stock}</td>\r\n                                    \r\n                                    \r\n                                        <button onClick={()=>this.editProducto(producto._id)}\r\n                                        type=\"button\"\r\n                                        className=\"btn btn-info\">\r\n                                            Editar\r\n                                        </button>\r\n                                        <button onClick={()=>this.deleteProducto(producto._id)}\r\n                                        type=\"button\"\r\n                                        className=\"btn btn-danger\">\r\n                                        Borrar\r\n                                        </button>\r\n                                    \r\n                                    </tr>\r\n                                \r\n                                );\r\n                            })\r\n                        }\r\n                    </tbody>\r\n                </table>\r\n            </Col>\r\n        </Container>\r\n        );\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}